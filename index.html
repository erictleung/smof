<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Smof</title>
  <meta name="description" content="Simple manipulation of FASTA">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Smof</h1>
    </header>
    <div id="container">
      <p class="tagline">Simple manipulation of FASTA</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/zbwrnz/smof/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/zbwrnz/smof/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/zbwrnz/smof" class="code">View Smof on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>
<a id="smof" class="anchor" href="#smof" aria-hidden="true"><span class="octicon octicon-link"></span></a>smof</h1>

<p>UNIX-style FASTA tools</p>

<h1>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<p><code>smof</code> has been tested in a Linux and Mac OS environment. To install run the following in a terminal window</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/zbwrnz/smof
<span class="pl-c1">cd</span> smof
./runtest.py
./IO-test.sh
sudo ln -s <span class="pl-smi">$PWD</span>/smof.py /usr/local/bin/smof</pre></div>

<p>You may, of course, link the smof executable to whatever location you want so
long as the destination directory is in PATH.</p>

<p>If you do not have git installed on your machine, you may download the ZIP file
and run</p>

<div class="highlight highlight-source-shell"><pre>unzip smof-master.zip
<span class="pl-c1">cd</span> smof-master
./runtest.py
./IO-test.sh
sudo ln -s <span class="pl-smi">$PWD</span>/smof.py /usr/local/bin/smof</pre></div>

<h1>
<a id="getting-help" class="anchor" href="#getting-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Help</h1>

<p>Detailed instructions on how to use each command in <code>smof</code> is available via the
'-h' option.</p>

<p>To list subcommands</p>

<div class="highlight highlight-source-shell"><pre>smof -h</pre></div>

<p>Get help on a specific subcommand</p>

<div class="highlight highlight-source-shell"><pre>smof grep -h</pre></div>

<h1>
<a id="unix-like-commands" class="anchor" href="#unix-like-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>UNIX-like commands</h1>

<p>This group of subcommands include commands based off UNIX builtins.</p>

<h2>
<a id="smof-grep" class="anchor" href="#smof-grep" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof grep</code>
</h2>

<p>Whereas GNU grep searches lines for matches, <code>smof grep</code> searches either the
FASTA headers OR the fasta sequence.</p>

<p>Extract the entry with the id AT5G49640</p>

<div class="highlight highlight-source-shell"><pre>smof grep AT1G10960 at.faa</pre></div>

<p>Extract entries containing the sequence 'FFQQ'</p>

<div class="highlight highlight-source-shell"><pre>smof grep -q FFQQ at.faa</pre></div>

<p>Extract only the FFQQ motif and the 3 amino acids flanking it.</p>

<div class="highlight highlight-source-shell"><pre>smof grep -qoC3 FFQQ at.faa</pre></div>

<p>Write the output in gff format</p>

<div class="highlight highlight-source-shell"><pre>smof grep -qoC3 --gff FFQQ at.faa</pre></div>

<p>Count occurrences (on both strands) of a DNA pattern using IUPAC extended
nucleotide alphabet.</p>

<div class="highlight highlight-source-shell"><pre>smof grep -qmbG YYNCTATAWAWASM myfile.fna
   1388</pre></div>

<p>Find non-overlapping open reading frames of length greater than 100 codons.
This is meant as an example of regex searching. This will NOT give you a great
answer. smof does not consider frames (nor will it ever). It will not find the
set of longest possible ORFs. If you want to identify ORFs, you should use a
specialized program. That said:</p>

<div class="highlight highlight-source-shell"><pre>smof grep -qPb --gff <span class="pl-s"><span class="pl-pds">'</span>ATG(.{3}){99,}?(TAA|TGA|TAG)<span class="pl-pds">'</span></span> myfile.fna
  chr3    smof-2.0.1   regex_match   357   668   <span class="pl-c1">.</span>  +  <span class="pl-c1">.</span>  <span class="pl-c1">.</span>
  chr3    smof-2.0.1   regex_match   823   1152  <span class="pl-c1">.</span>  +  <span class="pl-c1">.</span>  <span class="pl-c1">.</span>
  chr3    smof-2.0.1   regex_match   1230  1568  <span class="pl-c1">.</span>  +  <span class="pl-c1">.</span>  <span class="pl-c1">.</span></pre></div>

<p>A particularly powerful function of <code>smof grep</code> is the ability to read a whole
file of patterns and match them against a regex capture. This allows O(n),
rather than O(mn) as in GNU grep, extraction of entries containing a particular
pattern. For example if your headers are formatted like
'locus|xxx|taxon|yyy|gi|zzz' and you have a file of thousands of gi numbers,
you can quickly extract all the sequences in the FASTA file matching one of
these gi numbers with the following command:</p>

<div class="highlight highlight-source-shell"><pre>smof grep -w <span class="pl-s"><span class="pl-pds">'</span>gi\|(\d+)<span class="pl-pds">'</span></span> -f gi_numbers.txt seq.fa</pre></div>

<h2>
<a id="smof-md5sum" class="anchor" href="#smof-md5sum" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof md5sum</code>
</h2>

<p>This tool is useful if you want a checksum for a FASTA file that is independent
of format (e.g. column width or case).</p>

<h2>
<a id="smof-head-and-tail" class="anchor" href="#smof-head-and-tail" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof head</code> and <code>tail</code>
</h2>

<p>These functions mimic their GNU counterparts but on the entry, rather than
line, level. For example <code>smof head</code> prints the first entry in a file and <code>smof
-5</code> prints the first 5. Similarly for <code>smof tail</code>. </p>

<h2>
<a id="smof-sort" class="anchor" href="#smof-sort" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof sort</code>
</h2>

<p><code>smof sort</code> can be used to simply sort sequences alphabetically by header. It
can also sort by sequence length. One useful feature with no homolog in GNU
sort is the ability to sort by regex capture. For example, if the FASTA headers
are formated like 'locus|xxx|taxon|yyy|gi|zzz', you can sort them numerically
by taxon with the command <code>smof sort -nx 'taxon\|(\d+)'</code>.</p>

<h2>
<a id="smof-sample" class="anchor" href="#smof-sample" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof sample</code>
</h2>

<p><code>smof sample</code> allows extraction of a random sample of entries. With no
arguments, it reads the entire file into memory and outputs a random one.</p>

<h2>
<a id="smof-split" class="anchor" href="#smof-split" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof split</code>
</h2>

<p>This command allows easily splitting of a large file into many smaller files.</p>

<h2>
<a id="smof-uniq" class="anchor" href="#smof-uniq" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof uniq</code>
</h2>

<p>This is currently a pretty useless command.</p>

<h2>
<a id="smof-wc" class="anchor" href="#smof-wc" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof wc</code>
</h2>

<p>Outputs the number of characters and entries in the fasta file.</p>

<h1>
<a id="string-manipulation-commands" class="anchor" href="#string-manipulation-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>String manipulation commands</h1>

<h2>
<a id="smof-permute" class="anchor" href="#smof-permute" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof permute</code>
</h2>

<p>Permutes the letters of a sequence</p>

<h2>
<a id="smof-reverse" class="anchor" href="#smof-reverse" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof reverse</code>
</h2>

<p>Reverses a sequence (does NOT take the reverse complement)</p>

<h2>
<a id="smof-subseq" class="anchor" href="#smof-subseq" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof subseq</code>
</h2>

<p>From sequences with headers matching 'chr3', extract a subsequence from 357 to 668.</p>

<div class="highlight highlight-source-shell"><pre>cat myfile.fna <span class="pl-k">|</span> smof grep chr3 <span class="pl-k">|</span> smof subseq -b 357 668 
  <span class="pl-k">&gt;</span>chr3
  atggtcctttctcttgtttcttctctgtgttgttgagattagtttgtttaggtttgatagcgttgattttggcctgcgtt
  tggtgactcatatggtttgattggagtttgtttctgggttttatggttttggttgaagcgacatttttttgtggaatatg
  gtttttgcaaaatattttgttccggatgagtaatatctacggtgctgctgtgagaattatgctattgttttgcaggtcct
  gttcttaatctttcatcgcttttgtgcttattgtctccttgtcgtttatgttgagtggtgtttgggctttag</pre></div>

<p>If the start is higher than the end, and the sequence appears to be a DNA
sequence, then smof will take the reverse complement.</p>

<p><code>smof subseq</code> can also read from a gff file. However, if you want to extract
many sequences from a fasta file using a gff file as a guide (or other gff/bed
manipulations), consider using a specialized tools such as <code>bedtools</code>.</p>

<h1>
<a id="biological-sequence-tools" class="anchor" href="#biological-sequence-tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>Biological sequence tools</h1>

<h2>
<a id="smof-clean" class="anchor" href="#smof-clean" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof clean</code>
</h2>

<p>This command can be used to tidy a sequence. You can change the column width,
remove gaps and stops, convert all letters to one case and/or change irregular
characters to unknowns. By default, it removes whitespace in a sequence and
makes uniform, 80-character columns.</p>

<h2>
<a id="smof-filter" class="anchor" href="#smof-filter" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof filter</code>
</h2>

<p>Output only sequence that meet a set of conditions.</p>

<p>If you want to only keep sequences that are longer than 100 letters</p>

<div class="highlight highlight-source-shell"><pre>smof filter -l 100 myfile.fa</pre></div>

<p>Or shorter than 100 letters</p>

<div class="highlight highlight-source-shell"><pre>smof filter -s 100 myfile.fa</pre></div>

<p>Or that have greater than 60% AFILMVW content (hydrophobic amino acids)</p>

<div class="highlight highlight-source-shell"><pre>smof filter -c <span class="pl-s"><span class="pl-pds">'</span>AFILMVW &gt; .6<span class="pl-pds">'</span></span> myfile.fa</pre></div>

<h2>
<a id="smof-sniff" class="anchor" href="#smof-sniff" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof sniff</code>
</h2>

<p>This command runs a number of checks on a FASTA file and is useful in
diagnosing problems. For details, run <code>smof sniff -h</code>.</p>

<h2>
<a id="smof-stat" class="anchor" href="#smof-stat" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>smof stat</code>
</h2>

<p>The default operation outputs number of sequences and summary statistics
concerning the sequence lengths.</p>

<div class="highlight highlight-source-shell"><pre>smof stat arabidopsis.faa
   nseq:      35386
   nchars:    14518241
   5sum:      17 207 350 520 5394
   mean(sd):  410 (305)
   N50:       512</pre></div>

<p>'5sum' refers to the five number summary of the sequence lengths (minimum, 25%
quantile, median, 75% quantile, and maximum).</p>

<p>Statistics can also be calculated on a sequence-by-sequence level, which by
default outputs the sequence names (the first word of the header) and the
sequence length, e.g.</p>

<div class="highlight highlight-source-shell"><pre>smof stat -q arabidopsis.faa <span class="pl-k">|</span> head -3
   ATCG00500.1   489
   ATCG00510.1   38
   ATCG00280.1   474</pre></div>

<p>There are many other options. Run <code>smof stat -h</code> for descriptions.</p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/zbwrnz" class="avatar"><img src="https://avatars0.githubusercontent.com/u/3998543?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/zbwrnz">zbwrnz</a> maintains <a href="https://github.com/zbwrnz/smof">Smof</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/zbwrnz/smof/tarball/master" class="tar">tar</a><a href="https://github.com/zbwrnz/smof/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
